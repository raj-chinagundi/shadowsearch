/* Floating brain button */
#ss-brain-root{position:fixed;right:18px;bottom:18px;z-index:2147483647}
#ss-brain-button{position:relative;overflow:hidden;width:64px;height:64px;border-radius:999px;border:none;background:radial-gradient(60% 60% at 40% 40%,#9be7ff 0%,#51d3ff 35%,#0aa6e8 100%);box-shadow:0 6px 24px rgba(0,160,220,.35),inset 0 0 16px rgba(255,255,255,.5);cursor:pointer;outline:none;display:flex;align-items:center;justify-content:center;transition:all .2s ease}
#ss-brain-button:hover{transform:scale(1.05)}
#ss-brain-button:active{
  transform:scale(.94);
  box-shadow:0 3px 12px rgba(0,160,220,.35),inset 0 0 10px rgba(255,255,255,.5),0 0 30px rgba(255,255,255,.9);
  background:radial-gradient(60% 60% at 40% 40%,#ffffff 0%,#e6f7ff 35%,#b3e5fc 100%);
}
#ss-brain-button .ss-ripple{position:absolute;border-radius:50%;transform:translate(-50%,-50%);background:rgba(255,255,255,.5);width:10px;height:10px;pointer-events:none;animation:ss-ripple .45s ease-out forwards}
@keyframes ss-ripple{to{opacity:0;transform:translate(-50%,-50%) scale(12)}}
#ss-brain-button .ss-brain-icon{width:28px;height:28px;display:inline-block;background-image:url('../../icons/brain-48.png');background-size:contain;background-repeat:no-repeat;filter:drop-shadow(0 0 6px rgba(255,255,255,.6))}

/* Overlay */
#ss-overlay{position:fixed;inset:0;z-index:2147483646;pointer-events:auto}
#ss-overlay .ss-overlay-backdrop{position:absolute;inset:0;background:rgba(10,12,16,.55);backdrop-filter:blur(8px);}
#ss-overlay .ss-overlay-panel{position:absolute;left:50%;top:54%;transform:translate(-50%,-50%);width:min(960px,90vw);height:min(80vh,720px);display:flex;flex-direction:column;background:linear-gradient(180deg,rgba(255,255,255,.18),rgba(255,255,255,.08));border:1px solid rgba(255,255,255,.28);border-radius:18px;box-shadow:0 20px 120px rgba(0,0,0,.45),inset 0 1px 0 rgba(255,255,255,.4);overflow:hidden}
.ss-overlay-header{display:flex;align-items:center;justify-content:space-between;padding:14px 18px;background:rgba(255,255,255,.06)}
.ss-brand{display:flex;align-items:center;gap:10px}
.ss-logo{width:22px;height:22px;background-image:url('../../icons/brain-32.png');background-size:contain;background-repeat:no-repeat;filter:drop-shadow(0 0 4px rgba(255,255,255,.7))}
.ss-title{font:600 16px system-ui,sans-serif;color:#eaf6ff;letter-spacing:.2px}
.ss-session{display:flex;align-items:center;gap:12px}
.ss-timer{font:600 14px system-ui;color:#d6f3ff}
.ss-close{background:transparent;border:none;color:#eaf6ff;font-size:20px;cursor:pointer}

.ss-search{display:flex;gap:8px;padding:14px 18px;background:rgba(0,0,0,.08)}
.ss-search input{flex:1;border-radius:12px;border:1px solid rgba(255,255,255,.25);background:rgba(13,19,28,.45);color:#eaf6ff;padding:12px 14px;outline:none}
.ss-search button{min-width:44px;border-radius:12px;border:1px solid rgba(255,255,255,.25);background:rgba(13,19,28,.55);color:#eaf6ff}
.ss-search button.ss-lumen{
  background:rgba(255,255,255,.1) !important;
  transition:all .3s ease;
  border:1px solid rgba(255,255,255,.2) !important;
}
.ss-search button.ss-lumen:hover{
  background:rgba(255,255,255,.2) !important;
  transform:scale(1.05);
  border-color:rgba(255,255,255,.4) !important;
}
.ss-search button.ss-lumen.active{
  background:rgba(255,215,0,.3) !important;
  color:#FFD700 !important;
  box-shadow:0 0 10px rgba(255,215,0,.5) !important;
  border-color:rgba(255,215,0,.6) !important;
}

.ss-quick{display:flex;gap:10px;flex-wrap:wrap;padding:0 18px 10px}
.ss-chip{border:none;background:rgba(255,255,255,.12);color:#eaf6ff;border-radius:999px;padding:8px 12px;cursor:pointer}

.ss-body{padding:0 18px 12px;overflow:auto;display:flex;flex-direction:column;gap:14px}
.ss-card{border-radius:12px;border:1px solid rgba(255,255,255,.2);background:rgba(13,19,28,.35);color:#eaf6ff;padding:12px}
.ss-card ul{list-style:none;padding:0;margin:0}
.ss-card li{margin:8px 0;padding:8px 12px;background:rgba(255,255,255,.05);border-radius:8px;border-left:3px solid #51d3ff;line-height:1.5}
.ss-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:10px}
.ss-thumb{display:block;border-radius:10px;padding:10px;background:rgba(255,255,255,.06);color:#eaf6ff;text-decoration:none}

/* Video cards */
.ss-video-card{display:flex;flex-direction:column;border-radius:12px;background:rgba(255,255,255,.08);color:#eaf6ff;text-decoration:none;overflow:hidden;transition:transform .2s ease,box-shadow .2s ease}
.ss-video-card:hover{transform:translateY(-2px);box-shadow:0 8px 24px rgba(0,0,0,.3)}
.ss-video-thumb{width:100%;height:120px;object-fit:cover;border:none}
.ss-video-info{padding:12px}
.ss-video-title{font-size:14px;font-weight:600;margin:0 0 6px 0;line-height:1.3;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}
.ss-video-channel{font-size:12px;color:#cfefff;margin:0;opacity:.8}
.ss-loading,.ss-empty,.ss-error{padding:10px;color:#cfefff}
.ss-error{color:#ffd1d1}

/* Sources section links - enforce flax yellow colors */
#ss-overlay .ss-card ul a,
#ss-overlay .ss-card ul a:link,
#ss-overlay .ss-card ul a:visited,
#ss-overlay .ss-card ul a:active{color:#EEDC82 !important;text-decoration:none !important;font-weight:bold !important}
#ss-overlay .ss-card ul a:hover{color:#F5E6A3 !important;text-decoration:underline !important}
.ss-muted{opacity:.7}

/* YouTube Video Analysis Styles */
.ss-video-analysis-content {
  padding: 16px;
}

.ss-video-analysis-content h4 {
  margin: 0 0 12px 0;
  color: #51d3ff;
  font-size: 16px;
  font-weight: 600;
}

.ss-analysis-text {
  background: rgba(255, 255, 255, .05);
  border-radius: 8px;
  padding: 12px;
  margin-bottom: 12px;
  line-height: 1.6;
  border-left: 3px solid #51d3ff;
}

.ss-educational-value,
.ss-target-audience {
  background: rgba(255, 255, 255, .08);
  border-radius: 6px;
  padding: 8px 12px;
  margin: 8px 0;
  font-size: 14px;
}

.ss-educational-value strong,
.ss-target-audience strong {
  color: #9be7ff;
  margin-right: 8px;
}

/* Hide/show sections based on YouTube detection */
#ss-video-section {
  display: none;
}

#ss-related-videos-section,
#ss-sources-section {
  display: block;
}

.ss-footer{display:flex;justify-content:space-between;align-items:center;padding:12px 18px;background:rgba(255,255,255,.06)}
.ss-ephemeral{color:#cfefff;font:500 12px system-ui}
.ss-primary{border:none;background:#1aa3ff;color:white;border-radius:10px;padding:10px 14px;cursor:pointer}

